// src/components/FAQAccordion.tsx
'use client';

import { useState } from 'react';

type FAQItem = {
  q: string;
  a: string;
};

const faqs: FAQItem[] = [
  {
    q: 'Что такое Onerinn?',
    a: 'Onerinn — это онлайн-платформа, где вы можете сдавать в аренду электронику, а также покупать и продавать произведения искусства. Мы объединяем владельцев техники, художников и покупателей на одной удобной площадке.',
  },
  {
    q: 'Для кого предназначена платформа?',
    a: 'Платформой могут пользоваться как частные лица, так и компании: сдавать устройства в аренду, покупать картины и другие произведения искусства, а также размещать свои работы для продажи.',
  },

  // ====== 下面是你提供的 8 条问答 ======
  {
    q: 'Как зарегистрироваться на платформе Onerinn?',
    a: 'Выберите «Зарегистрироваться» в правом верхнем углу, заполните имя пользователя, e-mail или телефон и придумайте пароль. После подтверждения вы сможете заходить в личный кабинет и оформлять аренду или размещать свои произведения.',
  },
  {
    q: 'Могу ли я войти по номеру телефона без e-mail?',
    a: 'Да. На Onerinn достаточно указать либо e-mail, либо номер телефона. Важно, чтобы указанные данные были доступны вам для восстановления доступа к аккаунту.',
  },
  {
    q: 'Как оставить жалобу на продавца или арендатора?',
    a: 'Зайдите в личный кабинет → раздел «Поддержка» или откройте чат на странице FAQ. Опишите ситуацию, приложите номер заказа и, по возможности, скриншоты. Наша команда разберёт обращение и свяжется с вами.',
  },
  {
    q: 'Какие способы оплаты доступны?',
    a: 'Для пользователей из Казахстана на Onerinn.kz доступны Kaspi, Halyk и другие локальные способы оплаты. Для международных пользователей на Onerinn.com доступны банковские карты и международные платёжные системы. Конкретный набор способов оплаты зависит от вашей страны.',
  },
  {
    q: 'Как формируется комиссия платформы Onerinn?',
    a: 'Комиссия списывается автоматически при успешной оплате заказа и зависит от категории товара и типа услуги (аренда / покупка). Актуальные ставки комиссий вы можете уточнить в личном кабинете продавца.',
  },
  {
    q: 'Что делать, если товар не соответствует описанию?',
    a: 'Не завершайте заказ и сразу свяжитесь с нами через чат поддержки или раздел «Споры и претензии» в личном кабинете. Опишите проблему, приложите фотографии. Мы поможем вам найти решение — замену, частичный или полный возврат.',
  },
  {
    q: 'Как рассчитывается залог за аренду техники?',
    a: 'Размер залога устанавливается владельцем товара и отображается на странице объявления. Залог удерживается на время аренды и может быть скорректирован в случаях повреждения или утери устройства согласно правилам платформы.',
  },
  {
    q: 'Могу ли я удалить свой аккаунт и данные?',
    a: 'Да. Напишите в службу поддержки через чат или форму обратной связи, укажите причину и подтвердите личность. После обработки запроса ваш аккаунт и связанные данные будут удалены в соответствии с политикой конфиденциальности Onerinn.',
  },
];

export default function FAQAccordion() {
  const [activeIndex, setActiveIndex] = useState<number | null>(0);

  const toggle = (index: number) => {
    setActiveIndex((prev) => (prev === index ? null : index));
  };

  return (
    <div className="space-y-3">
      {faqs.map((item, index) => {
        const open = activeIndex === index;

        return (
          <div
            key={index}
            className="rounded-2xl border border-gray-200 bg-white shadow-sm hover:shadow-md transition-shadow"
          >
            <button
              type="button"
              onClick={() => toggle(index)}
              className="flex w-full items-center justify-between px-4 py-3 md:px-5 md:py-4 text-left"
            >
              <span className="text-sm md:text-base font-medium text-gray-900">
                {item.q}
              </span>
              <span
                className={[
                  'ml-4 flex h-7 w-7 items-center justify-center rounded-full border border-gray-300 text-xs text-gray-600 transition-transform',
                  open ? 'rotate-90' : '',
                ].join(' ')}
              >
                ❯
              </span>
            </button>

            {open && (
              <div className="px-4 pb-4 md:px-5 md:pb-5 border-t border-gray-100">
                <p className="mt-2 text-sm md:text-base text-gray-700 leading-relaxed">
                  {item.a}
                </p>
              </div>
            )}
          </div>
        );
      })}
    </div>
  );
}
